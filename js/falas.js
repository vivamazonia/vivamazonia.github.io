var falas = {
    "floresta" : {
        "inicio" : [
            "Oi amigo! Eu sou a Júlia, voluntária do Greenpeace Fortaleza.",
            "Você conhece a Amazônia? Ela é a maior floresta tropical do mundo!",
            "Infelizmente ela está sendo destruída aos pouquinhos...",
            "Nós não podemos deixar que isso aconteça!",
            "Que tal você me ajudar a preservar a nossa linda floresta?",
            "Vem comigo, vou te ensinar como podemos ajudar a preservar a Floresta Amazônica.",
            "Clique em uma das áreas no mapa"
        ],
    },
    "queimadas_apagar" : {
        "inicio" : [
            "Clique com o mouse nas árvores queimando o mais rápido que puder para apagar o fogo.",
            "Atenção o fogo está se espalhando muito rápido! Temos que ser mais rápidos!"
        ],
        "vitoria" : [
            "Conseguimos controlar o incêndio!",
            "Temos outras áreas para ajudar! Vamos lá!"
        ],
        "derrota" : [
            "Não conseguimos controlar o incêndio!",
            "Vamos tentar novamente!"
        ]
    },
    "queimadas_resgatar" : {
        "inicio" : [
            "Não pode ser! Nossa floresta está em chamas!",
            "Temos que salvar os animais da floresta!"
        ],
        "onça" : [
            "Uma onça foi vista nas redondezas, temos que procurar a onça",
            "Se você achar clique que vamos resgatar"
        ],
        "encontrado_onça" : [
            "Muito bem! Resgatamos a onça!",
            "Ela será levada para a nossa sede para ser tratada e depois denvolvida para um ambiente seguro.",
            "Você pode visitá-la e saber mais sobre ela clicando na nossa sede"
        ],
        "aves" : [
            "Uma harpia e um tucano foram vistos nas redondezas, temos que procurar eles",
            "Se você achar clique que vamos resgatar"
        ],
        "encontrado_aves" : [
            "Muito bem! Resgatamos a harpia e o tucano!",
            "Eles serão levados para a nossa sede para serem tratados e depois denvolvidos para um ambiente seguro.",
            "Você pode visitá-los e saber mais sobre clicando na nossa sede"
        ],
        "anta" : [
            "Uma anta foi vista nas redondezas, temos que procurar ela",
            "Se você achar clique que vamos resgatar"
        ],
        "encontrado_anta" : [
            "Muito bem! Resgatamos a anta!",
            "Ela será levada para a nossa sede para ser tratada e depois denvolvida para um ambiente seguro.",
            "Você pode visitá-la e saber mais sobre clicando na nossa sede.",
            "Agora vamos apagar todo esse fogo!"
        ]
    },
    "poluicao" : {
        "inicio" : [
            "Nossa! Olha como o rio está poluído!",
            "Tome essa rede. Limpe o rio clicando no lixo e depois na lixeira correta com o mouse."
        ],
        "errou" : [
            "Você errou, esse lixo não vai para essa lixeira. Tente novamente."
        ],
        "fim" : [
            "Muito bem! Esse rio está mais bonito agora!",
            "Temos outras áreas para ajudar! Vamos lá!"
        ]
    },
    "trafico_animais" : {
        "inicio" : [
            "Olha que maldade fizeram com esses animaizinhos...",
            "Eles estão sendo caçados ilegalmente!",
            "Ajude os animais libertando-os das jaulas colocando o ponteiro do mouse em cima da jaula",
            "Mas cuidado! Não deixe que ninguém veja você, quando a lanterna aparecer tire o ponteiro o mais rápido",
            "A lanterna mais clara ainda é seguro, mas se a mais forte aparecer você será encontrado."
        ],
        "resgate_boto" : [
            "Vamos começar resgatando esse boto.",
            "Ele está mais perto e será mais fácil"
        ],
        "resgatado_boto" : [
            "Regatamos o boto!"
        ],
        "resgate_pirarucu" : [
            "Agora é a vez do pirarucu.",
            "Ele está mais um pouco mais longe e será mais complicado"
        ],
        "resgatado_pirarucu" : [
            "Resgatamos o pirarucu!"
        ],
        "resgate_peixe_boi" : [
            "Agora vamos resgatar esse peixe boi.",
            "Ele está mais longe e será mais díficil. Eles estão bem atentos!"
        ],
        "resgatado_peixe_boi" : [
            "Resgatamos o peixe boi!",
            "Temos outras áreas para ajudar! Vamos lá!"
        ],
        "encontrado" : [
            "Fomos encontrados! Temos que fugir daqui e tentar novamente mais tarde!"
        ]
    },
    "desmatamento" : {
        "inicio_triste" : [
            "Essa área desmatada já foi uma linda floresta..."
        ],
        "inicio" : [
            "Vamos plantar algumas árvores!",
            "Primeiro vamos usar a pá para remover esse tronco que não pode ser recuperado.",
            "Depois vamos usar a enxada para arar a terra para plantar a muda",
            "Em seguida, vamos colocar a muda na terra arada",
            "Por fim, vamos regar a esperar nossa floresta renascer!",
            "Pegue a pá clicando com o mouse!"
        ],
        "pa" : [
            "Agora clique nos troncos para removê-los",
            "Você tem que tirar o tronco primeiro para depois usar outra ferramenta",
            "Você pode fazer todos de uma vez ou um por um, você que escolhe"
        ],
        "enxada" : [
            "Agora clique nos buracos para arar a terra",
            "Você precisa ter usado a pá para remover primeiro"
        ],
        "muda" : [
            "Agora clique na terra arada para plantar a muda",
            "Você precisa ter usado a enxada para arar a terra primeiro"
        ],
        "regador" : [
            "Ótimo! Agora vamos regar a muda!",
            "Você precisa ter colocado a muda na terra arada primeiro"
        ],
        "errado" : [
            "Você não seguiu a sequência!",
            "Primeiro vamos usar a pá para remover esse tronco que não pode ser recuperado.",
            "Depois vamos usar a enxada para arar a terra para plantar a muda",
            "Em seguida, vamos colocar a muda na terra arada",
            "Por fim, vamos regar a esperar nossa floresta renascer!"
        ],
        "fim" : [
            "Muito bem! Nossa floresta será linda novamente em breve",
            "Temos outras áreas para ajudar! Vamos lá!"
        ]
    },
    "sede" : {
        "inicio" : [
            "Essa é nossa sede! É aqui que os animais resgatados ficam enquanto estão em tratamento médico",
            "Assim que eles estiverem melhor vamos devolvê-los para a floresta em um local seguro"
        ],
        "nao_terminou_fases" : [
            "Você ainda não ajudou todas as áreas da floresta. Vá em todas e você receberá um crachá do Greenpeace Fortaleza!"
        ],
        "terminou_fases" : [
            "Você ajudou todas as áreas da floresta!Aqui está seu crachá do Greenpeace Fortaleza!"
        ],
        "saber_mais" : [            
            "Já que você está aqui não gostaria de ver como os animais que resgatamos estão?",
            "Clique no animal com o mouse e te conto mais sobre ele"
        ],
        "animal_bloqueado" : [
            "Esse animal ainda não foi resgatado, vamos ter que resgatá-lo de outra área antes"
        ]
    }
}
var index = -1;
var max_index = 0;
function proxima_fala(){
    $("#comunica").show();
    max_index = falas[tela_atual][comunicacao_parte].length;
    index += 1;
    $("#texto").html(falas[tela_atual][comunicacao_parte][index]);
    if(max_index == index){
        $("#comunica").hide();
        switch(tela_atual){
            case 'floresta':
                //proxima_fala();
            break;
            case 'queimadas_resgatar':
                switch(comunicacao_parte){
                    case "inicio":
                        resgate_onça();
                    break;
                    case "onça":
                        $("#queimadas_resgatar_onça").show();
                    break;
                    case "encontrado_onça":
                        resgate_aves();
                    break;
                    case "aves":
                        $("#queimadas_resgatar_harpia, #queimadas_resgatar_tucano").show();
                    break;
                    case "encontrado_aves":
                        resgate_anta();
                    break;
                    case "anta":
                        $("#queimadas_resgatar_anta").show();
                    break;
                    case "encontrado_anta":
                        animais_resgatados = true;
                        mudaHumorJulia('normal');
                        mudarTela('queimadas_apagar');
                    break;
                }
            break;
            case 'queimadas_apagar':
                switch(comunicacao_parte){
                    case "inicio":
                        iniciarQueimadas();
                    break;
                    case "vitoria":
                        mudarTela('floresta');
                    break;
                    case "derrota":
                        iniciarQueimadas();
                    break;
                }
            break;
            case 'trafico_animais':
                switch(comunicacao_parte){
                    case "inicio":
                        resgate_boto();
                    break;
                    case "resgate_boto":
                        posicaoAtual = {x:0, y:0};
                        iniciarTraficoAnimais('boto');
                    break;
                    case "resgatado_boto":
                        mudaHumorJulia('normal');
                        resgate_pirarucu();
                    break;
                    case "resgate_pirarucu":
                        posicaoAtual = {x:0, y:0};
                        iniciarTraficoAnimais('pirarucu');
                    break;
                    case "resgatado_pirarucu":
                        mudaHumorJulia('normal');
                        resgate_peixe_boi();
                    break;
                    case "resgate_peixe_boi":
                        posicaoAtual = {x:0, y:0};
                        iniciarTraficoAnimais('peixe_boi');
                    break;
                    case "resgatado_peixe_boi":
                        $("#main_div").attr('class','');
                        mudarTela('floresta');
                    break;
                    case "encontrado":
                        reiniciarTraficoAnimais();
                    break;
                }
            break;
            case 'desmatamento':
                switch(comunicacao_parte){
                    case 'inicio_triste':
                        muda_comunicacao('inicio');
                        mudaHumorJulia('normal');
                        proxima_fala();
                    break;
                    case 'fim':
                        mudarTela('floresta');
                    break;
                }
                iniciarDesmatamento();
            break;
            case 'poluicao':
                switch(comunicacao_parte){
                    case 'inicio':
                        iniciarPoluicao();
                    break;
                    case 'errou':
                        continuar();
                    break;
                    case 'fim':
                        mudarTela('floresta');
                    break;
                }
            break;
        }
    }
}

function muda_comunicacao(etapa){
    index = -1;
    comunicacao_parte = etapa;
}